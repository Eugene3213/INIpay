<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AJAX 3일 차 (응용문제)</title>
<script src="./jquery.js"></script>
<script>
	$(function(){
		/*응용문제
			사용자가 1~10까지 숫자 중 한가지를 선택합니다.
			해당 숫자를 app 로 backend에게 ajax로 전달.
			backend는 1~10까지 숫자 중 무작위로 하나 뽑습니다
			사용자가 입력한 숫자와 무작위 숫자가 같을 경우
			"당첨", 다를 경우 "다음기회에" 라고 app.html로 return합니다.
			HINT: ajax에서 전송되는 값은 모두 문자*/
		$("#btn").click(function(){
			
			var ran= Math.random();
			var data= Math.floor(ran*10+1);
			$("#data").text(data);
			
			var $mid=$("#mid").val();
			$.ajax({
				url:"./app",
				data:{mid:$mid},
				catch:false,
				type:"GET",
				datatype:"text",
				success:function(data){
					console.log("당첨");
				},
				error:function(){
					console.log("다음기회에");
				}
			});
		});	
	});
</script>
</head>
<body>
	<input type="text" id="mid">
	<input type="button" value="click" id="btn">
</body>
</html>